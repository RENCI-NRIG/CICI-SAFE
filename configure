#!/bin/bash
SDXSERVER="http://152.3.136.36:8080/"
RIAKSERVER="128.194.6.136"
SSHKEY="~/.ssh/id_rsa"
EXOGENIPEM="~/.ssl/geni-yuanjuny.pem"
SDXNAME="sdx"
ALICENAME="c1"
BOBNAME="c2"
SDXSAFEKEY="bphJZn3RJBnNqoCZk6k9SBD8mwSb054PXbwV7HpE80E"
ALICESAFEKEY="V1F2853Nq8V304Yb_GInYaWTgVqmBsQwC0tXWuNmmf8"
BOBSAFEKEY="UIz4bXT7accigZ7KNpEyF2igwGOgXb9gne7p13i2bWA"
SDXPREFIX="192.168.30.1/24"
ALICEPREFIX="192.168.10.1/24"
BOBPREFIX="192.168.20.1/24"
CWD=$(pwd)
SDX_SCRIPTSDIR="${CWD}/SDX-Simple/SAFE_SDX/src/main/resources/scripts/"
CLIENT_SCRIPTDIR="${CWD}/SDX-Client-ExoGENI/SDX_ExoGENI_Client/src/main/resources/scripts/"

sed  "s@{SLICENAME}@${SDXNAME}@g;s@{SSHKEY}@${SSHKEY}@g;s@{EXOGENIPEM}@${EXOGENIPEM}@g;s@{RIAKSERVER}@${RIAKSERVER}@g;s@{SDXSERVER}@${SDXSERVER}@g; s@{SDX_SCRIPTSDIR}@${SDX_SCRIPTSDIR}@g; s@{SAFEKEY}@${SDXSAFEKEY}@g;s@{IPPREFIX}@${SDXPREFIX}@g" config/sdxconf.txt | tee ${CWD}/SDX-Simple/config/${SDXNAME}.conf

sed  "s@{SLICENAME}@${ALICENAME}@g;s@{SSHKEY}@${SSHKEY}@g;s@{EXOGENIPEM}@${EXOGENIPEM}@g;s@{RIAKSERVER}@${RIAKSERVER}@g;s@{SDXSERVER}@${SDXSERVER}@g; s@{SDX_SCRIPTSDIR}@${SDX_SCRIPTSDIR}@g; s@{SAFEKEY}@${ALICESAFEKEY}@g;s@{IPPREFIX}@${ALICEPREFIX}@g" config/clientconf.txt | tee ${CWD}/SDX-Client-ExoGENI/config/${ALICENAME}.conf
sed  "s@{SLICENAME}@${BOBNAME}@g;s@{SSHKEY}@${SSHKEY}@g;s@{EXOGENIPEM}@${EXOGENIPEM}@g;s@{RIAKSERVER}@${RIAKSERVER}@g;s@{SDXSERVER}@${SDXSERVER}@g; s@{SDX_SCRIPTSDIR}@${SDX_SCRIPTSDIR}@g; s@{SAFEKEY}@${BOBSAFEKEY}@g;s@{IPPREFIX}@${BOBPREFIX}@g" config/clientconf.txt | tee ${CWD}/SDX-Client-ExoGENI/config/${BOBNAME}.conf
