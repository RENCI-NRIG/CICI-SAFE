IaaS => 152.3.145.38:444

TapCon => 153.0.0.10:10000                         153.0.0.100:1000

Docker container: 154.0.0.20:20000                 154.0.0.200:2000


== Launch services

$ curl http://152.3.136.26:7777/postInstanceSet -d "{ \"principal\": \"152.3.145.38:444\",  \"otherValues\": [\"tapcon1\", \"imageHash1\", \"image\", \"153.0.0.10:10000\"] }"
  "message": "['AHHUpHFCfrTuft0atxwjcLHs7P6SdBlEcUSANBUdExQ']"


$ curl http://152.3.136.26:7777/updateSubjectSet -d "{ \"principal\": \"153.0.0.10:10000\",  \"otherValues\": [\"AHHUpHFCfrTuft0atxwjcLHs7P6SdBlEcUSANBUdExQ\"] }"
  "message": "['8O7yOKNK6H4uZ8scETXcqI_vqudqOFXwn-pcdxH2tMw']"


$ curl http://152.3.136.26:7777/postInstanceSet -d "{ \"principal\": \"153.0.0.10:10000\",  \"otherValues\": [\"docker1\", \"imageHash2\", \"image\", \"154.0.0.20:20000\"] }"
  "message": "['0Y8nrJsTcMSVbGIHZkojvcOymdhEG9sGsfXXZ5hqqvs']"

$ curl http://152.3.136.26:7777/updateSubjectSet -d "{ \"principal\": \"154.0.0.20:20000\",  \"otherValues\": [\"0Y8nrJsTcMSVbGIHZkojvcOymdhEG9sGsfXXZ5hqqvs\"] }"
  "message": "['goaB_NWntSS2Z3DtDC1Tmr1jhea8nWMAsDEDNjrZwoI']"



== set up image set

$ curl http://152.3.136.26:7777/postAttesterImage -d "{ \"principal\": \"152.3.145.38:444\",  \"otherValues\": [\"imageHash1\"] }"
  "message": "['U0CdxGKgQTju3FX4gBFvI1cIuAIFloV_-CYX4NVZ8Z0']"

$ curl http://152.3.136.26:7777/postAttesterImage -d "{ \"principal\": \"152.3.145.38:444\",  \"otherValues\": [\"imageHash2\"] }"
  "message": "['t5HbtwgOSNs9J9f15ZqGY5oVuei54ZPrr8Iy-09D44o']"


== Query

$ curl http://152.3.136.26:7777/attestInstance -d "{ \"principal\": \"152.3.145.138:4144\",  \"otherValues\": [\"154.0.0.20:20000\"] }"



** Follow-up testing for ACCESS CONTROL
   - this uses the cloud provider as a sole accepted endorser in the system

== Endorse image properties

$ curl http://152.3.136.26:7777/postImageProperty -d "{ \"principal\": \"152.3.145.38:444\",  \"otherValues\": [\"imageHash2\", \"property1\"] }"


== Set ACL for data objects

$ curl http://152.3.136.26:7777/postObjectAcl -d "{ \"principal\": \"alice\",  \"otherValues\": [\"alice:object1\", \"property1\"] }"

== Query 

   - access control
   $ curl http://152.3.136.26:7777/appAccessesObject -d "{ \"principal\": \"152.3.145.138:4144\",  \"otherValues\": [\"154.0.0.20:20000\", \"alice:object1\"] }"

   - attest program property
   $ curl http://152.3.136.26:7777/attestAppProperty -d "{ \"principal\": \"152.3.145.138:4144\",  \"otherValues\": [\"154.0.0.20:20000\"] }"




Testing with slang shell:
=========================

See readme-testing-with-slang-shell
